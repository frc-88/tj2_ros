<?xml version="1.0" encoding="UTF-8"?>
<launch>
    <arg name="apriltag_settings" default="$(find tj2_bringup)/config/diffyjr/tags/settings.yaml"/>
    <arg name="apriltag_tags" default="$(find tj2_bringup)/config/diffyjr/tags/tags.yaml"/>
    <arg name="publish_tag_detections_image" default="false"/>
    <group ns="northstar">
        <node pkg="tj2_northstar" type="arducam_ros" name="arducam_ros" required="false" output="screen" respawn="true">
            <param name="topic_prefix" value="camera" />
            <param name="info_directory" value="$(find tj2_bringup)/config/diffyjr/northstar/calibration" />
            <param name="device_num" value="0" />
            <param name="publish_rate" value="40.0" />
            <param name="publish_tag_detections_image" type="bool" value="$(arg publish_tag_detections_image)" />
        </node>

        <!-- <rosparam command="load" file="$(arg apriltag_settings)" ns="apriltag_cam_array"/>
        <rosparam command="load" file="$(arg apriltag_tags)" ns="apriltag_cam_array"/>
        <node pkg="tj2_northstar" type="apriltag_cam_array" name="apriltag_cam_array" required="false" output="screen">
            <remap from="info" to="camera/camera_info"/>
            <remap from="image_raw" to="camera/image_raw"/>
        </node> -->

        <!-- <include file="$(find tj2_northstar)/launch/apriltag_single_cam.launch">
            <arg name="apriltag_settings" value="$(arg apriltag_settings)"/>
            <arg name="apriltag_tags" value="$(arg apriltag_tags)"/>
            <arg name="node_name" value="apriltag_camera_0"/>
            <arg name="camera_info_topic" value="camera_0/camera_info"/>
            <arg name="image_rect_topic" value="camera_0/image_raw"/>
        </include>
        <include file="$(find tj2_northstar)/launch/apriltag_single_cam.launch">
            <arg name="apriltag_settings" value="$(arg apriltag_settings)"/>
            <arg name="apriltag_tags" value="$(arg apriltag_tags)"/>
            <arg name="node_name" value="apriltag_camera_1"/>
            <arg name="camera_info_topic" value="camera_1/camera_info"/>
            <arg name="image_rect_topic" value="camera_1/image_raw"/>
        </include>
        <include file="$(find tj2_northstar)/launch/apriltag_single_cam.launch">
            <arg name="apriltag_settings" value="$(arg apriltag_settings)"/>
            <arg name="apriltag_tags" value="$(arg apriltag_tags)"/>
            <arg name="node_name" value="apriltag_camera_2"/>
            <arg name="camera_info_topic" value="camera_2/camera_info"/>
            <arg name="image_rect_topic" value="camera_2/image_raw"/>
        </include>
        <include file="$(find tj2_northstar)/launch/apriltag_single_cam.launch">
            <arg name="apriltag_settings" value="$(arg apriltag_settings)"/>
            <arg name="apriltag_tags" value="$(arg apriltag_tags)"/>
            <arg name="node_name" value="apriltag_camera_3"/>
            <arg name="camera_info_topic" value="camera_3/camera_info"/>
            <arg name="image_rect_topic" value="camera_3/image_raw"/>
        </include> -->
    </group>

</launch>
